<div class="modal">
  <div class="modal-content">
    <div class="title-modal">
      <h2>{{ data && data.marca ? 'Editar Marca' : 'Agregar Marca' }}</h2>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
        <path d="M13.5 6.5l4 4" />
        <path d="M16 21l5 -5" />
        <path d="M21 21v.01" />
        <path d="M16 16v.01" />
      </svg>
    </div>
    
    <form [formGroup]="marcaForm" (ngSubmit)="guardarMarca()">
      <!-- Fila de Nombre -->
      <div class="input-row">
        <div class="input-wrapper">
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" width="28" height="28" stroke-width="1.25">
            <path d="M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2"></path>
          </svg>
          <input 
            placeholder="Nombre de la Marca" 
            class="form-input" 
            type="text" 
            maxlength="50"
            formControlName="nombre"
            [class.invalid]="nombreInvalid"
            id="nombre"
          />
          
          <div class="error-message" *ngIf="nombreInvalid">
            <span *ngIf="marcaForm.get('nombre')?.errors?.['required']">El nombre es obligatorio</span>
            <span *ngIf="marcaForm.get('nombre')?.errors?.['pattern']">Formato de nombre inv치lido</span>
          </div>
        </div>
 <div class="input-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="input-icon">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M14 3v4a1 1 0 0 0 1 1h4" />
            <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
            <path d="M9 17h6" />
            <path d="M9 13h6" />
          </svg>
          <textarea 
            placeholder="Descripci칩n de la Marca" 
            class="form-input" 
            formControlName="descripcion"
            [class.invalid]="descripcionInvalid"
            rows="3"
            maxlength="130"
          ></textarea>
          
          <div class="error-message" *ngIf="descripcionInvalid">
            <span *ngIf="marcaForm.get('descripcion')?.errors?.['required']">La descripci칩n es obligatoria</span>
          </div>
        </div>

        

       
      </div>

      <!-- Fila de Descripci칩n -->
      <div class="input-row">
       
      </div>

      <!-- Fila de Drop Zone y Botones -->
      <div class="input-row drop-buttons-row">
        <!-- Botones -->
         
     <app-drop-zone-image class="drop-zone" 
        (fileSelected)="onFileSelected($event)"></app-drop-zone-image>

        <div class="buttons-container">
          <button type="button" class="cancel-btn" (click)="onNoClick()">Cancelar</button>
          <button 
            type="submit" 
            class="save-btn"
            [disabled]="marcaForm.invalid || isLoading"
          >
            {{ isLoading ? 'Guardando...' : 'Guardar' }}
          </button>
        </div>

        <div class="drop-zone-container">
      
        
       
    </div>
      </div>
    </form>
  </div>
</div>